# Калкулатор за тръбна задръжка (серпентина)

Приложение за предварително оразмеряване на **тръбна задръжка тип серпентина** за:
- вода
- течни продукти от млекопреработвателната промишленост

## Какво изчислява
- дължина на тръбата `L`
- брой колена 90°
- общо локално съпротивление `ΣK`
- пад на налягане (по дължина, локален и общ) в `kPa` и общ пад в `bar`

## Инженерен подход (EU практика)
Използван е SI подходът, приложим в европейското оразмеряване на тръбни системи:
- уравнение на Darcy–Weisbach за линейни загуби
- локални загуби чрез коефициенти `K`
- Reynolds критерий и фактор на триене (ламинарен / турбулентен режим)

> Бележка: инструментът е за **предварителни сметки**. За финален проект потвърждавайте
> допусканията според приложимите EN стандарти и фирмени изисквания (материал, санитарен клас,
> реални фитинги и температурен режим).

## HTML версия (препоръчана)
Налична е визуална версия в [index.html](index.html) с:
- по-приятен интерфейс
- избор на тръби по серии (OD × дебелина) за неръждаеми безшевни тръби
- изписани формули със заместени стойности
- групирани резултати (процесни, хидравлични, пад на налягане)
- профили за DN-1 / DN / DN+1
- графика за проверка на CIP скорост (целеви диапазон)
- избор на метод за колена: `ζ` или `Leq` (еквивалентна дължина)
- библиотека с референтни стойности за 90° колена (Crane TP-410 / Idelchik, с възможност за ръчен вход)

## Разширена учебна страница
Налична е отделна страница [theory.html](theory.html), която съдържа:
- формули визуализирани с KaTeX (LaTeX стил, като в учебници)
- обяснение на всеки символ, единици и произход на уравненията
- кратки бележки за приложимост на модела

## Бележка за EN 13480
EN 13480 задава рамка за проектиране на метални тръбопроводи, но не предоставя единна универсална
таблица за всички локални съпротивления на фитинги. Поради това в приложението е добавена
референтна библиотека (Crane/Idelchik) и ръчно въвеждане за проектно съгласуване с каталожни данни.

Стартиране локално:
```bash
python -m http.server 8080
```
После отворете:
`http://localhost:8080/index.html`

## Streamlit версия
Остава налична и [app.py](app.py):
```bash
pip install -r requirements.txt
streamlit run app.py
```

## Входни данни
- дебит `Q [L/h]`
- целева задръжка `t [s]`
- избор на `DN` (OD × дебелина), с автоматично изчисляване на светъл отвор `ID [mm]`
- грапавост `ε [mm]`
- плътност `ρ [kg/m³]`
- динамичен вискозитет `μ [mPa·s]`
- геометрия на серпентината (дължина на права секция)
- коефициент на коляно 90° `K`

## Използвани основни формули
- `V = Q · t`
- `A = πD²/4`
- `L = V/A`
- `v = Q/A`
- `Re = ρvD/μ`
- `Δp = (f·L/D + ΣK)·ρv²/2`
